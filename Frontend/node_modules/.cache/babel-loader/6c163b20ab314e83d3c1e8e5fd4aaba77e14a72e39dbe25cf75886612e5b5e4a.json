{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eris\\\\Documents\\\\GitHub\\\\biztrips\\\\newFrontend\\\\src\\\\Cart.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport useFetchAll from \"./services/useFetchAll\";\nimport Spinner from \"./Spinner\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCart } from \"./cartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const {\n    cart,\n    dispatch\n  } = useCart();\n  const navigate = useNavigate();\n  const urls = cart.map(i => `products/${i.id}`);\n  const {\n    data: products,\n    loading,\n    error\n  } = useFetchAll(urls);\n  function renderItem(itemInCart) {\n    const {\n      id,\n      sku,\n      quantity\n    } = itemInCart;\n    const {\n      price,\n      name,\n      image,\n      skus\n    } = products.find(p => p.id === parseInt(id));\n    const {\n      size\n    } = skus.find(s => s.sku === sku);\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"cart-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/images/${image}`,\n        alt: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"$\", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Size: \", size]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            \"aria-label\": `Select quantity for ${name} size ${size}`,\n            onChange: e => dispatch({\n              type: \"updateQuantity\",\n              sku,\n              quantity: parseInt(e.target.value)\n            }),\n            value: quantity,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"3\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"4\",\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"5\",\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this)]\n    }, sku, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 23\n  }, this);\n  if (error) throw error;\n  const numItemsInCart = cart.reduce((total, item) => total + item.quantity, 0);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"cart\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: numItemsInCart === 0 ? \"Your cart is empty\" : `${numItemsInCart} Item${numItemsInCart > 1 ? \"s\" : \"\"} in My Cart`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cart.map(renderItem)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), cart.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => navigate(\"/checkout\"),\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"QJ9qWYvY1NthoBa3vDosPNaNZTI=\", false, function () {\n  return [useCart, useNavigate, useFetchAll];\n});\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useFetchAll","Spinner","useNavigate","useCart","jsxDEV","_jsxDEV","Cart","_s","cart","dispatch","navigate","urls","map","i","id","data","products","loading","error","renderItem","itemInCart","sku","quantity","price","name","image","skus","find","p","parseInt","size","s","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","type","target","value","numItemsInCart","reduce","total","item","length","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Eris/Documents/GitHub/biztrips/newFrontend/src/Cart.jsx"],"sourcesContent":["import React from \"react\";\nimport useFetchAll from \"./services/useFetchAll\";\nimport Spinner from \"./Spinner\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCart } from \"./cartContext\";\n\nexport default function Cart() {\n  const { cart, dispatch } = useCart();\n  const navigate = useNavigate();\n  const urls = cart.map((i) => `products/${i.id}`);\n  const { data: products, loading, error } = useFetchAll(urls);\n\n  function renderItem(itemInCart) {\n    const { id, sku, quantity } = itemInCart;\n    const { price, name, image, skus } = products.find(\n      (p) => p.id === parseInt(id)\n    );\n    const { size } = skus.find((s) => s.sku === sku);\n\n    return (\n      <li key={sku} className=\"cart-item\">\n        <img src={`/images/${image}`} alt={name} />\n        <div>\n          <h3>{name}</h3>\n          <p>${price}</p>\n          <p>Size: {size}</p>\n          <p>\n            <select\n              aria-label={`Select quantity for ${name} size ${size}`}\n              onChange={(e) =>\n                dispatch({\n                  type: \"updateQuantity\",\n                  sku,\n                  quantity: parseInt(e.target.value),\n                })\n              }\n              value={quantity}\n            >\n              <option value=\"0\">Remove</option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </select>\n          </p>\n        </div>\n      </li>\n    );\n  }\n\n  if (loading) return <Spinner />;\n  if (error) throw error;\n\n  const numItemsInCart = cart.reduce((total, item) => total + item.quantity, 0);\n\n  return (\n    <section id=\"cart\">\n      <h1>\n        {numItemsInCart === 0\n          ? \"Your cart is empty\"\n          : `${numItemsInCart} Item${numItemsInCart > 1 ? \"s\" : \"\"} in My Cart`}\n      </h1>\n      <ul>{cart.map(renderItem)}</ul>\n      {cart.length > 0 && (\n        <button\n          className=\"btn btn-primary\"\n          onClick={() => navigate(\"/checkout\")}\n        >\n          Checkout\n        </button>\n      )}\n    </section>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}